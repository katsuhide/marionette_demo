// Generated by CoffeeScript 1.7.1
'use strict';
TodoMVC.module('TodoList', function(TodoList, App, Backbone, Marionette, $, _) {
  TodoList.Router = Marionette.AppRouter.extend({
    appRoutes: {
      "*filter": "filterItems"
    }
  });
  TodoList.Controller = (function() {
    function Controller() {
      this.todoList = new App.Todos.TodoList();
    }

    Controller.prototype.start = function() {
      this.showHeader(this.todoList);
      this.showFooter(this.todoList);
      this.showTodoList(this.todoList);
      return this.todoList.fetch();
    };

    Controller.prototype.showHeader = function(todoList) {
      var header;
      header = new App.Layout.Header({
        collection: todoList
      });
      return App.header.show(header);
    };

    Controller.prototype.showFooter = function(todoList) {
      var footer;
      footer = new App.Layout.Footer({
        collection: todoList
      });
      return App.footer.show(footer);
    };

    Controller.prototype.showTodoList = function(todoList) {
      return App.main.show(new TodoList.Views.ListView({
        collection: todoList
      }));
    };

    Controller.prototype.filterItems = function(filter) {
      return App.vent.trigger('todoList:filter', (filter && filter.trim()) || '');
    };

    return Controller;

  })();
  return TodoList.addInitializer(function() {
    var controller;
    controller = new TodoList.Controller();
    controller.router = new TodoList.Router({
      controller: controller
    });
    return controller.start();
  });
});
